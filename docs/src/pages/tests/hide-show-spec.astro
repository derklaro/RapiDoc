---
import ExampleLayout from '../../layouts/ExampleLayout.astro';
---
<ExampleLayout>
  <rapi-doc id = "thedoc" spec-url = "/specs/petstore.yaml"> 
    <div class="control-panel" slot="custom-header">
      <button class='btn' onclick="toggle('allow-spec-url-load')">Toggle Spec URL Load (Header Section)</button>
      <button class='btn' onclick="toggle('allow-spec-file-load')">Toggle Spec File Load (Header Section)</button>
      <button class='btn' onclick="toggle('allow-spec-file-download')">Toggle Spec File Download (Info Section)</button>
      <div style="flex:1"></div>
      <button class='btn yellow' onclick="toggle('show-header')">Toggle Header</button>
      <button class='btn yellow' onclick="toggle('show-info')">Toggle Info</button>
      <button class='btn yellow' onclick="toggleRenderStyle()">Toggle Render Style</button>
    </div>
  </rapi-doc>
</ExampleLayout>


<script is:inline>
  const doc = document.getElementById("thedoc");
  
  function toggle (attrName ) {
    if (doc.getAttribute(attrName) === 'false') {
      doc.setAttribute(attrName, true);
    } else {
      doc.setAttribute(attrName, false);
    }
  }

  function toggleRenderStyle () {
    if (doc.getAttribute('render-style') === 'view') {
      doc.setAttribute('render-style', 'focused');
    } else if (doc.getAttribute('render-style') === 'focused') {
      doc.setAttribute('render-style', 'read');
    } else if (doc.getAttribute('render-style') === 'read') {
      doc.setAttribute('render-style', 'view');
    } else {
      doc.setAttribute('render-style', 'view');
    }
  }
</script>

