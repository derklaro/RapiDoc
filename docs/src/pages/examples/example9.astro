---
import ExampleLayout from '../../layouts/ExampleLayout.astro';
---

<ExampleLayout>
  <script slot="script" is:inline>
    document.addEventListener('readystatechange', (event) => {
      let docEl = document.getElementById("thedoc");
      let strSpec = `
      {
        "swagger": "2.0",
        "info": { 
        },
        "paths": {
          "/JSON": {
            "get": {
              "summary": "Creating spec from JSON Object",
              "description": "This spec is created dynamically from a JSON object For code refer https://github.com/rapi-doc/RapiDoc/blob/master/docs/examples/example9.html",
              "produces": [ "application/json"],
              "responses": {
                "200": {
                  "description": "A list of pets.",
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/Pet"
                    }
                  }
                }
              }
            }
          }
        },
        "definitions": {
          "Pet": {
            "type": "object",
            "properties": {
              "id"  : { "type": "integer" },
              "name": { "type": "string" },
              "tag" : { "type": "string" }
            }
          }
        }
      }  
      `;
      let objSpec = JSON.parse(strSpec);
      docEl.loadSpec(objSpec);
    })
  </script>
  <rapi-doc id="thedoc" 
    render-style = "read" 
    allow-try="false"
    allow-authentication = "false" 
  > </rapi-doc>
</ExampleLayout>
